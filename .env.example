# Environment Configuration for FlyerFlutter
# Copy this file to .env and fill in your actual values

# ====================================
# Environment Settings
# ====================================
ENV=development
DEBUG=true
PORT=8000

# ====================================
# API Keys and External Services
# ====================================

# Google Places API Key (Required)
# Get your API key from: https://console.cloud.google.com/apis/credentials
# Enable: Places API (New), Geocoding API
GOOGLE_PLACES_API_KEY=your_google_places_api_key_here

# ====================================
# Flipp API Configuration
# ====================================

# Flipp API Base URL (using unofficial endpoints)
FLIPP_BASE_URL=https://backflipp.wishabi.com/flipp

# Rate limiting for Flipp API calls
RATE_LIMIT_ENABLED=true
FLIPP_MAX_REQUESTS_PER_SECOND=2

# ====================================
# Database Configuration
# ====================================

# SQLite database file path (relative to project root)
DATABASE_URL=sqlite:///data/flyerflutter.db

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ====================================
# CORS Configuration
# ====================================

# Allowed origins for CORS (comma-separated)
# Development: include frontend dev server
# Production: include your domain(s)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Allow credentials in CORS requests
CORS_CREDENTIALS=true

# ====================================
# Security Settings
# ====================================

# Secret key for session management (generate a random string)
SECRET_KEY=your-super-secret-key-here-please-change-this

# Use secure cookies (set to true in production with HTTPS)
SECURE_COOKIES=false

# ====================================
# Performance Settings
# ====================================

# Number of worker processes (production)
WORKERS=4

# Maximum requests per worker before restart
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# ====================================
# Logging Configuration
# ====================================

# Log level: debug, info, warning, error, critical
LOG_LEVEL=info

# Log file path (optional)
LOG_FILE=logs/flyerflutter.log

# ====================================
# Background Tasks & Scheduling
# ====================================

# Enable automatic flyer updates
AUTO_UPDATE_ENABLED=true

# Flyer update frequency (in hours)
UPDATE_FREQUENCY_HOURS=24

# Maximum age of deals to keep (in days)
MAX_DEAL_AGE_DAYS=7

# ====================================
# Redis Configuration (Optional)
# ====================================

# Redis URL for caching and sessions
# Leave empty to disable Redis caching
REDIS_URL=redis://redis:6379/0

# Redis cache TTL (seconds)
CACHE_TTL=3600

# ====================================
# Docker Compose Settings
# ====================================

# Docker build target (development or production)
DOCKER_TARGET=development

# Backup settings (production)
BACKUP_INTERVAL=86400  # 24 hours in seconds
BACKUP_RETENTION=7     # days to keep backups

# ====================================
# Frontend Build Settings
# ====================================

# Vite build mode
VITE_ENV=development

# Frontend API base URL (used by frontend to call backend)
VITE_API_BASE_URL=http://localhost:8000

# Enable frontend error reporting
VITE_ENABLE_ERROR_REPORTING=false

# ====================================
# Development Settings
# ====================================

# Enable hot reload for backend development
HOT_RELOAD=true

# Enable debug toolbar
DEBUG_TOOLBAR=false

# Mock external API calls for development
MOCK_EXTERNAL_APIS=false

# ====================================
# Monitoring and Analytics (Optional)
# ====================================

# Enable Prometheus metrics endpoint
METRICS_ENABLED=false

# Sentry DSN for error tracking (production)
SENTRY_DSN=

# Google Analytics ID (frontend)
VITE_GA_ID=

# ====================================
# Example Production Values
# ====================================
# 
# ENV=production
# DEBUG=false
# PORT=8000
# GOOGLE_PLACES_API_KEY=AIza...
# DATABASE_URL=sqlite:///data/flyerflutter.db
# CORS_ORIGINS=https://yourdomain.com
# SECURE_COOKIES=true
# SECRET_KEY=your-actual-secret-key
# LOG_LEVEL=warning
# WORKERS=4
# REDIS_URL=redis://redis:6379/0
# DOCKER_TARGET=production
# METRICS_ENABLED=true